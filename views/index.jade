!!! 5
html
    head

        title=title

        link(href='/stylesheets/bootstrap.css', rel='stylesheet')
        //link(href='/stylesheets/bootstrap-theme.css', rel='stylesheet')
        //link(rel='stylesheet', href='https://netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap.min.css')
        link(rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css")
        link(rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css")
        link(href='/stylesheets/application.css', rel='stylesheet')
        link(href='/stylesheets/jquery-ui-1.10.0.custom.css', rel='stylesheet')
        link(href='http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css')
        link(href='/stylesheets/bootstrap-formhelpers.css', rel='stylesheet')


    body
        #header-region

        #main-region.container

        #dialog-region

        script#header-template(type='text/template')
            <div class="navbar-inner">
            <div class="container">
            <a class="brand" href="#">Home</a>
            <div class="nav-collapse collapse">
            <ul class="nav"></ul>
            </div>
            </div>
            <div>

        script#header-link(type='text/template')
            <a href="#<%= url %>"><%= name %></a>

        //New template for Navigation bar
        script#navbar-template(type='text/template')
            <div class="navbar navbar-inner navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
            <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand active" href="#"><span class="glyphicon glyphicon-home"></span>Taskimos</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
            <li><a href="#" class="js-how-it-works"> How it Works!</a></li>
            <li><a href="#" class="js-register-business"> Register Your Business</a></li>
            <li><a href="#" class=" hidden js-business-name"><span class="glyphicon glyphicon-bullhorn"></span><businessName></a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right js-user hidden">
            <li class="dropdown pull-right">
            <a href="#" class="dropdown-toggle js-username" data-toggle="dropdown"><span class="glyphicon glyphicon-user"></span>&nbsp<%= username %><b class="caret"></b></a>
            <ul class="dropdown-menu">
            <li><a href="#" class="js-user-profile">Profile</a></li>
            <li><a href="#" class="js-logout">Logout</a></li>
            </ul>
            </li>
            </ul>
            <form class="navbar-form navbar-right js-form-login">
            <div class="form-group">
            <input type="text" class="form-control" name="username" placeholder="Email Address">
            </div>
            <div class="form-group">
            <input type="password" class="form-control" name="password" placeholder="Password">
            </div>
            <button type="submit" class="btn js-submit btn-info">Login</button>
            <i><u><b><a href="#signup" class"js-singup">Not a user yet?</a></b></u><i>
            </form>
            </div>
            </div>
            </div>


        //template for adding layout to ListContacts page
        script#contact-list-layout(type='text/template')
            <div id="panel-region"></div>
            <div id="contacts-region"></div>

        script#list-item-template(type='text/template')
            li One item

        //Template for displaying the header row of ContactsList
        script#contact-list(type='text/template')
            <thead>
            <tr><th>First Name</th><th>Last Name</th><th>Show</th><th>Edit</th><th><th>Delete</th>
            </tr>
            </thead>
            <tbody>
            </tbody>

        //Template for Listing all contacts in a table
        script#contact-list-item(type='text/template')
            <td><%= firstName %></td>
            <td> <%= lastName %></td>
            <td><a href="#contacts/<%= _id %>" class="btn btn-small js-show"> <i class="glyphicon glyphicon-eye-open"></i>Show</a></td>
            <td><a href="#contacts/<%= _id %>/edit" class="btn btn-small js-edit"><i class="glyphicon glyphicon-pencil"></i>Edit</a></td>
            <td><button id="btn" class="btn btn-small js-delete"><i class="glyphicon glyphicon-remove"> </i>Delete</button> </td>

        script#contact-view(type='text/template')
            <h1><%= firstName %> <%= lastName %></h1>
            <p><strong>Phone number:</strong><%= phoneNumber    %></p>
            <a href="#contacts/<%= _id %>/edit" class="btn btn-small js-edit">
            <i class="glyphicon glyphicon-pencil"></i>Edit this contact</a>

        script#missing-contact-view(type='text/template')
            <div class="alert alert-error">This contact doesn't exist !</div>

        script#loading-view(type='text/template')
            <p><%= message %></p>
            <h1><%= title %></h1>
            #spinner

        script#contact-form(type='text/template')
            <form>
            <div class="control-group">
            <label for="contact-firstName" class="control-label"> First name:</label>
            <input id="contact-firstName" name="firstName" type="text" value="<%= firstName %>"/>
            </div>
            <div class="control-group">
            <label for="contact-lastName" class="control-label"> Last name:</label>
            <input id="contact-lastName" name="lastName" type="text" value="<%= lastName %>"/>
            </div>
            <div class="control-group">
            <label for="contact-phoneNumber" class="control-label">Phone number:</label>
            <input id="contact-phoneNumber" name="phoneNumber" type="text" value="<%= phoneNumber %>"/>
            </div>
            <button class="btn js-submit">Save</button>
            </form>

        //Template for Top Panel for ListContacts
        script#contact-list-top-panel(type='text/template')
            <button class="btn btn-primary js-new">New contact</button>
            <form class="form-search form-inline pull-right">
            <div class="input-append">
            <input type="text" class="span2 search-query js-filter-criterion">
            <button type="submit" class="btn js-filter">Filter contacts</button>
            </div>
            </form>

        script#contact-list-none(type='text/template')
            <td colspan="3">No contacts to display.</td>

        script#about-message(type='text/template')
            <h1>About this application</h1>
            <p>This is my first project with marinoneete + express + mongo </p>
            <p>Hopefully, it has served me well !</p>

        script#missing-job-view(type='text/template')
            <div class="alert alert-error">This job doesn't exist !</div>

        //Template for creating/editing a single job
        script#job-form(type='text/template')
            <form>
            <div class="control-group">
            <label for="job-category" class="control-label"> Job Category:</label>
            <input id="job-category" name="category" type="text" value="<%= category %>"/>
            </div>
            <div class="control-group">
            <label for="job-description" class="control-label"> Job Category:</label>
            <textarea id="job-description" name="description" type="text" value="<%= description %>"></textarea>
            </div>
            <button class="btn js-submit">Save</button>
            </form>

        //Template for displaying a single job
        script#job-view(type='text/template')
            <p><h1><strong>Job Title:</strong><%= jobTitle %> </p>
            <p><h1><strong>Job Category:</strong><%= category %></h1></p>
            <p><strong>Job Desription:</strong><%= description %></p>
            <a href="#jobs/<%= _id %>/edit" class="btn btn-small js-edit">
            <i class="glyphicon glyphicon-pencil"></i>Edit this job</a>

        script#missing-job-view(type='text/template')
            <div class="alert alert-error">This job doesn't exist !</div>

        //Entry Page - Search template
        script#search-view(type='text/template')
            <div class="jumbotron container">
            <form class="form-search form-inline ">
            <div class="input-append">
            <input type="text" class="search-query js-search-criterion">
            <button type="submit" class="btn btn-success js-search"><span class="glyphicon glyphicon-search"></span>Search</button>
            </div>
            </form>
            </div>

        //template for adding layout to ListBusiness page
        script#business-list-layout(type='text/template')
            <div id="panel-region"></div>
            <div id="business-region"></div>

        //Template for displaying a single business
        script#business-view(type='text/template')
            <p><h1><strong>Business Name:</strong><%= businessName %> </p>
            <p><h1><strong>Business Category:</strong><%= businessCategory %></h1></p>
            <p><strong>Address:</strong><%= businessAddress %></p>

        //Template for missing business
        script#missing-business-view(type='text/template')
            <div class="alert alert-error">This business doesn't exist !</div>

        //Template for creating new business
        script#business-form(type='text/template')
            <form class="form-horizontal" role="form">
            <div class="form-group">
            <label for="business-businessName" class="control-label"> Business Name:</label>
            <input id="business-businessName" class="form-control" name="businessName" type="text" value="<%= businessName %>"/>
            </div>
            <div class="form-group">
            <label for="business-businessCategory" class="control-label"> Business Category:</label>
            <input id="business-businessCategory" class="form-control" name="businessCategory" type="text" value="<%= businessCategory %>"/>
            </div>
            <div class="form-group">
            <label for="business-businessAddress" class="control-label">Address:</label>
            <textarea id="business-address" class="form-control" name="businessAddress" type="text" value="<%= businessAddress %>"/>
            </div>
            <button class="btn btn-success js-submit">Save Business</button>
            <input type="hidden" class="form-control hidden" name="username" value="<%= username %>" />
            </form>


        //Template for Top Panel for Listbusiness
        script#business-list-top-panel(type='text/template')
            <button class="btn btn-primary js-new">New Business</button>
            <form class="form-search form-inline pull-right">
            <div class="input-append">
            <input type="text" class="span2 search-query js-filter-criterion">
            <button type="submit" class="btn js-filter">Filter Business</button>
            </div>
            </form>

        //Template for displaying header row of table Business List
        script#business-list(type='text/template')
            <thead>
            <tr><th>Business Name</th><th>Business Category</th><th>Show</th><th>Appointment</th><th>Edit</th><th>Delete</th>
            </tr>
            </thead>
            <tbody>
            </tbody>

        //Template for Listing all business in a table
        script#business-list-item(type='text/template')
            <td><%= businessName %></td>
            <td> <%= businessCategory %></td>
            <td><a href="#business/<%= _id %>" class="btn btn-small btn-primary js-show" role="button"> <i class="glyphicon glyphicon-eye-open"></i>Show</a></td>
            <td><a href="#business/<%= _id %>/appointments" class="btn btn-small btn-primary js-appointment" role="button"> <i class="glyphicon glyphicon-calendar"></i>Calendar</a></td>
            <td><a href="#business/<%= _id %>/edit" class="btn btn-primary btn-small js-edit" role="button"><i class="glyphicon glyphicon-pencil" ></i>Edit</a></td>
            <td><button id="btn" class="btn btn-small btn-danger js-delete"><i class="glyphicon glyphicon-remove"> </i>Delete</button> </td>

        //Template for displaying if no contact is available
        script#business-list-none(type='text/template')
            <td colspan="3">No contacts to display.</td>

        //Templates for Appointments
        //template for layout to show calendar and available appointments
        script#appointment-list-layout(type='text/template')
            <div id="calendar-region"></div>
            <div id="appointments-region"></div>

        //Template for displaying calendar
        script#calendar-panel(type='text/template')
            <p><h3><%= businessId %></h3></p>
            <div><i class="glyphicon glyphicon-calendar" /><input type="text" id="datepicker"></input></div>

        //Templates for showing available appointments
        script#appointment-list(type='text/template')
            <thead>
            <tr><th>Date</th><th>Time</th><th>Book Appointment</th></tr>
            </thead>
            <tbody>
            </tbody>

        script#appointment-list-item(type='text/template')
            <td><%= appointmentDate %></td><td class="appointmentStart"><%= appointmentStart %></td>
            <td><button id="btn" class="btn btn-medium btn-danger disabled js-book"><i class="glyphicon glyphicon-calendar"></i>Book</button></td>


        //Template for displaying if no contact is available
        script#appointments-list-none(type='text/template')
            <td colspan="3">No appointments to display.</td>

        //Template for booking appointment
        script#bookAppointment-form(type='text/template')
            <form class="form-bookAppointment control-group">
            <table>
            <tr><th><h4 class="form-login-heading">Book Your Appointment</h4></th></tr>
            <tr><td><span class="label label-default" name="appointmentDate">Appointment Date: <%= appointmentDate %></span></td></tr>
            <tr><td><span class="label label-default" name="appointmentStart">Appointment Time: <%= appointmentStart %></span></td></tr>
            <tr><td><textarea class="form-control" name="appointmentNote" placeholder="Special Note"></textarea></td></tr>
            <tr><td><button class="btn js-submit btn-success form-control">Save</button></td></tr>
            <tr></td>
            <input type="hidden" class="form-control hidden" name="businessId" value=<%= businessId %>>
            <input type="hidden" class="form-control hidden" name="appointmentDate" value=<%= appointmentDate %>>
            <input type="hidden" class="form-control hidden" name="userName" value=<%= userName %>>
            <input type="hidden" class="form-control hidden" name="appointmentStart" value=<%= appointmentStart %>>
            <input type="hidden" class="form-control hidden" name="appointmentDuration" value=<%= appointmentDuration %>>
            </td></tr>
            </table>
            </form>

        //Templates for signup,
        script#signup-form(type='text/template')
            <form class="form-signin control-group">
            <table>
            <tr><th><h2 class="form-signin-heading">Please sign up</h2></th></tr>
            <tr><td><input type="text" class="form-control" name="username" placeholder="Email address"></td></tr>
            <tr><td><input type="password" class="form-control" name="password" placeholder="Password"></td></tr>
            <tr><td><button class="btn btn-success form-control js-submit">Sign up</button></td></tr>
            </table>
            </form>

        //template for login
        script#login-form(type='text/template')
            <form class="form-login control-group">
            <table>
            <tr><th><h2 class="form-login-heading">Please Login</h2></th></tr>
            <tr><td><input type="text" class="form-control" name="username" placeholder="Email address"></td></tr>
            <tr><td><input type="password" class="form-control" name="password" placeholder="Password"></td></tr>
            <tr><td><button class="btn btn-success form-control js-submit">Login</button></td></tr>
            <tr><td><h5><u><i><a href="#signup" class"js-singup">Not a user yet?</a></h5></u></i></td></tr>
            </table>
            </form>


        //Vendor file includes
        script(src='/javascripts/lib/jquery.js')
        script(src='http://code.jquery.com/jquery-1.9.1.js')
        script(src='/javascripts/lib/jquery-ui-1.10.3.js')
        //script(src='/javascripts/lib/bootstrap.js')
        //script(type='text/javascript', src='https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js')
        script(type='text/javascript', src='//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js')
        script(src='http://code.jquery.com/ui/1.10.3/jquery-ui.js')
        script(src='/javascripts/lib/json2.js')
        script(src='/javascripts/lib/underscore.js')
        script(src='/javascripts/lib/backbone.js')
        script(src='/javascripts/lib/backbone.picky.js')
        script(src='/javascripts/lib/backbone.syphon.js')
        script(src='/javascripts/lib/backbone.marionette.js')
        script(src='/javascripts/lib/moment.js')
        script(src='/javascripts/lib/spin.js')
        script(src='/javascripts/lib/spin.jquery.js')
        script(src='/javascripts/lib/bootstrap-formhelpers.js')
        script(src='/javascripts/apps/config/marionette/regions/dialog.js')
        script(src='/javascripts/app.js')

        //Project file includes starts from here

        //Data returning entities
        script(src='/javascripts/entities/common.js')
        script(src='/javascripts/entities/header.js')
        script(src='/javascripts/entities/contact.js')
        script(src='/javascripts/entities/job.js')
        script(src='/javascripts/entities/business.js')
        script(src='/javascripts/entities/user.js')
        script(src='/javascripts/entities/appointment.js')


        script(src='/javascripts/apps/header/list/list_view.js')
        script(src='/javascripts/apps/header/list/list_controller.js')
        script(src='/javascripts/apps/header/header_app.js')

        script(src='/javascripts/apps/contacts/list/list_view.js')
        script(src='/javascripts/apps/contacts/list/list_controller.js')

        script(src='/javascripts/apps/contacts/show/show_controller.js')
        script(src='/javascripts/apps/contacts/show/show_view.js')

        script(src='/javascripts/apps/contacts/contacts_app.js')

        script(src='/javascripts/common/views.js')

        script(src='/javascripts/apps/contacts/edit/edit_view.js')
        script(src='/javascripts/apps/contacts/edit/edit_controller.js')

        script(src='/javascripts/apps/contacts/new/new_view.js')

        script(src='/javascripts/apps/about/show/show_view.js')
        script(src='/javascripts/apps/about/show/show_controller.js')
        script(src='/javascripts/apps/about/about_app.js')

        //All file includes for job sub-app goes here
        //File includes for job/show
        script(src='/javascripts/apps/job/show/show_job_view.js')
        script(src='/javascripts/apps/job/show/show_job_controller.js')
        script(src='/javascripts/apps/job/job_app.js')

        //All file includes for business sub-app goes here
        //File includes for business/show
        script(src='/javascripts/apps/business/show/show_business_view.js')
        script(src='/javascripts/apps/business/show/show_business_controller.js')
        script(src='/javascripts/apps/business/new/business_new_view.js')
        script(src='/javascripts/apps/business/new/business_new_controller.js')
        script(src='/javascripts/apps/business/business_app.js')

        //File includes for entry page search
        script(src='/javascripts/apps/business/list/business_list_controller.js')
        script(src='/javascripts/apps/business/list/business_list_view.js')

        //File includes for entry page search
        script(src='/javascripts/apps/search/show/search_view.js')
        script(src='/javascripts/apps/search/show/search_controller.js')
        script(src='/javascripts/apps/search/search_app.js')

        //Files includes for appointment page
        script(src='/javascripts/apps/appointment/list/appointment_list_controller.js')
        script(src='/javascripts/apps/appointment/list/appointment_list_view.js')
        script(src='/javascripts/apps/appointment/appointment_app.js')

        //file includes for appointment booking page
        script(src='/javascripts/apps/appointment/bookAppointment/appointment_book_view.js')
        script(src='/javascripts/apps/appointment/bookAppointment/appointment_book_controller.js')

        //File includes for signup,
        script(src='/javascripts/apps/signup/show/signup_view.js')
        script(src='/javascripts/apps/signup/show/signup_controller.js')
        script(src='/javascripts/apps/signup/signup_app.js')

        //File includes for login page
        script(src='/javascripts/apps/login/show/login_view.js')
        script(src='/javascripts/apps/login/show/login_controller.js')
        script(src='/javascripts/apps/login/login_app.js')

        script(type='text/javascript')
            //starting the application a.k.a start dancing
            SuperAppManager.start();
            console.log("SuperAppManager has started!");















